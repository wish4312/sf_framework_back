<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lsitc.domain.sample.dao.SampleDAO">
  <select id="selectSampleById"
    parameterType="com.lsitc.domain.sample.entity.SampleEntity"
    resultType="com.lsitc.domain.sample.entity.SampleEntity">
    SELECT id
         , foo
         , bar
         , comment
         , created_by
         , created_date
         , last_modified_by
         , last_modified_date
    FROM sf_sample
    WHERE id = #{id}
  </select>

  <insert id="insertSample"
    parameterType="com.lsitc.domain.sample.entity.SampleEntity"
    useGeneratedKeys="true" keyProperty="id" keyColumn="id">
    INSERT INTO sf_sample
    ( foo
    , bar
    , comment
    , created_by
    , created_date
    , last_modified_by
    , last_modified_date)
    VALUES ( #{foo}
           , #{bar}
           , #{comment}
           , #{createdBy}
           , current_timestamp()
           , #{lastModifiedBy}
           , current_timestamp())
  </insert>

  <insert id="insertSampleWithId"
    parameterType="com.lsitc.domain.sample.entity.SampleEntity"
    useGeneratedKeys="true" keyProperty="id" keyColumn="id">
    INSERT INTO sf_sample
    ( id
    , foo
    , bar
    , comment
    , created_by
    , created_date
    , last_modified_by
    , last_modified_date)
    VALUES ( #{id}
           , #{foo}
           , #{bar}
           , #{comment}
           , #{createdBy}
           , current_timestamp()
           , #{lastModifiedBy}
           , current_timestamp())
  </insert>

  <update id="updateSampleById"
    parameterType="com.lsitc.domain.sample.entity.SampleEntity">
    UPDATE sf_sample
    SET foo                = #{foo}
      , bar                = #{bar}
      , comment            = #{comment}
      , last_modified_by   = #{lastModifiedBy}
      , last_modified_date = current_timestamp()
    WHERE id = #{id}
  </update>

  <delete id="deleteSampleById"
    parameterType="com.lsitc.domain.sample.entity.SampleEntity">
    DELETE
    FROM sf_sample
    WHERE id = #{id}
  </delete>
</mapper>